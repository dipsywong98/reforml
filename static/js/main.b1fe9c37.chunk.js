(this["webpackJsonp@reforml/example"]=this["webpackJsonp@reforml/example"]||[]).push([[0],{23:function(e,t){e.exports={myTextField:{type:"text",label:"a simple text field",helperText:"some helper text"},myNumberField:{type:"number",label:"a number field",helperText:"some helper text",defaultVal:123},mySelectField:{label:"a select field",type:"select",helperText:"some helper text",options:{label1:"value1",label2:"value2"},defaultVal:"value2"},check:{type:"checkbox",label:"check me!",helperText:"some helper text",trueValue:123},check_group:{type:"checkbox_group",label:"checkbox group",helperText:"help",options:["1","2","3"]},check_group2:{type:"checkbox_group",label:"Checkbox Group 2",helperText:"this output format of this checkbox group is different",options:[{value:"1",helperText:"helper text for specific option"},"2","3"],output:"object"},text_ll:{label:"this is a list of text",type:"list",of:"text",defaultNewVal:"",inlineDelete:!0,placeholder:"new text"},object:{type:"object",label:"Object Field",fields:{field1:{label:"f1",type:"text"}}},copy:{label:"the label will be same as input content",type:"text",helperText:"a custom fieldReducer is called in value function"}}},33:function(e,t,a){e.exports=a(66)},34:function(e,t,a){},39:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);a(34);var n=a(0),r=a.n(n),l=a(30),o=a.n(l),c=a(4),i=(a(39),a(16)),u=a(25),s=a(20),f=a(21),p=a(22),b=a(24),v=a(26),d=a(31),m=a(3),y=a(1);function h(e,t){return e(t={exports:{}},t.exports),t.exports}var g="function"===typeof Symbol&&Symbol.for,j=g?Symbol.for("react.element"):60103,O=g?Symbol.for("react.portal"):60106,x=g?Symbol.for("react.fragment"):60107,E=g?Symbol.for("react.strict_mode"):60108,T=g?Symbol.for("react.profiler"):60114,C=g?Symbol.for("react.provider"):60109,N=g?Symbol.for("react.context"):60110,w=g?Symbol.for("react.async_mode"):60111,S=g?Symbol.for("react.concurrent_mode"):60111,k=g?Symbol.for("react.forward_ref"):60112,V=g?Symbol.for("react.suspense"):60113,F=g?Symbol.for("react.suspense_list"):60120,_=g?Symbol.for("react.memo"):60115,$=g?Symbol.for("react.lazy"):60116,P=g?Symbol.for("react.block"):60121,D=g?Symbol.for("react.fundamental"):60117,B=g?Symbol.for("react.responder"):60118,I=g?Symbol.for("react.scope"):60119;function M(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case j:switch(e=e.type){case w:case S:case x:case T:case E:case V:return e;default:switch(e=e&&e.$$typeof){case N:case k:case $:case _:case C:return e;default:return t}}case O:return t}}}function K(e){return M(e)===S}var A={AsyncMode:w,ConcurrentMode:S,ContextConsumer:N,ContextProvider:C,Element:j,ForwardRef:k,Fragment:x,Lazy:$,Memo:_,Portal:O,Profiler:T,StrictMode:E,Suspense:V,isAsyncMode:function(e){return K(e)||M(e)===w},isConcurrentMode:K,isContextConsumer:function(e){return M(e)===N},isContextProvider:function(e){return M(e)===C},isElement:function(e){return"object"===typeof e&&null!==e&&e.$$typeof===j},isForwardRef:function(e){return M(e)===k},isFragment:function(e){return M(e)===x},isLazy:function(e){return M(e)===$},isMemo:function(e){return M(e)===_},isPortal:function(e){return M(e)===O},isProfiler:function(e){return M(e)===T},isStrictMode:function(e){return M(e)===E},isSuspense:function(e){return M(e)===V},isValidElementType:function(e){return"string"===typeof e||"function"===typeof e||e===x||e===S||e===T||e===E||e===V||e===F||"object"===typeof e&&null!==e&&(e.$$typeof===$||e.$$typeof===_||e.$$typeof===C||e.$$typeof===N||e.$$typeof===k||e.$$typeof===D||e.$$typeof===B||e.$$typeof===I||e.$$typeof===P)},typeOf:M},L=(h((function(e,t){0})),h((function(e){e.exports=A})),Object.getOwnPropertySymbols),R=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;function J(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(r){return!1}})()&&Object.assign;var W="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function H(e,t,a,n,r){}H.resetWarningCache=function(){0};Function.call.bind(Object.prototype.hasOwnProperty);function z(){}function U(){}U.resetWarningCache=z;var G=h((function(e){e.exports=function(){function e(e,t,a,n,r,l){if(l!==W){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:U,resetWarningCache:z};return a.PropTypes=a,a}()})),Y={label:G.string,disabled:G.bool,value:G.any,helperText:G.string,onChange:G.func,name:G.string},Q=G.oneOfType([G.array,G.string]),X=Object(y.a)(Object(y.a)({},Y),{},{options:G.array,valueKey:Q,labelKey:Q}),Z={options:G.array.isRequired},ee=(Object(y.a)(Object(y.a)({},X),{},{output:G.string}),Object(y.a)({},Y)),te={helperText:G.string,label:G.string,children:G.node},ae=function(e){var t=e.helperText,a=e.label,n=e.children,l=pe(),o=l.HelperText,c=l.LabelText;return r.a.createElement("label",null,void 0!==a?r.a.createElement(c,null,a):null,n,void 0!==t?r.a.createElement(o,null,t):null)};ae.propTypes=te;var ne=function(e){return r.a.createElement("input",Object.assign({className:"form-control"},e))};ne.defaultProps={value:""};var re=function(e){var t=e.options,a=Object(m.a)(e,["options"]);return r.a.createElement("select",Object.assign({className:"form-control"},a),t.map((function(e){var t=e.value,a=e.label;return r.a.createElement("option",{key:a,value:t},a)})))};re.propTypes=Z;var le=function(e){var t=e.label,a=e.helperText,n=e.children,l=Object(m.a)(e,["label","helperText","children"]);return r.a.createElement("div",Object.assign({className:"list-input-decoration"},l),void 0!==t?r.a.createElement("div",{className:"list-input-label"},t):null,r.a.createElement(ae,{helperText:a},n))};le.propTypes=te;var oe=function(e){var t=e.label,a=e.helperText,n=e.children,l=Object(m.a)(e,["label","helperText","children"]);return r.a.createElement("div",Object.assign({className:"object-input-decoration"},l),void 0!==t?r.a.createElement("div",{className:"object-input-label"},t):null,r.a.createElement(ae,{helperText:a},n))};oe.propTypes=te;var ce=function(e){var t=e.className,a=void 0===t?"":t,n=Object(m.a)(e,["className"]);return r.a.createElement("div",Object.assign({className:"flex ".concat(a)},n))};ce.propTypes={className:G.string};var ie=function(e){var t=e.className,a=void 0===t?"":t,n=Object(m.a)(e,["className"]);return r.a.createElement("div",Object.assign({className:"box ".concat(a)},n))};ie.propTypes={className:G.string};var ue=function(e){var t=e.className,a=void 0===t?"":t,n=Object(m.a)(e,["className"]);return r.a.createElement("button",Object.assign({className:"btn ".concat(a)},n))};ue.propTypes={className:G.string};var se={__proto__:null,BaseInput:ne,BaseSelect:re,BaseCheckbox:function(e){return r.a.createElement("input",Object.assign({className:"form-check-input",type:"checkbox"},e))},HelperText:function(e){var t=Object.assign({},e);return r.a.createElement("small",Object.assign({className:"box form-text text-muted"},t))},LabelText:function(e){var t=Object.assign({},e);return r.a.createElement("label",Object.assign({className:"box form-label"},t))},FieldWrapper:function(e){var t=Object.assign({},e);return r.a.createElement("div",Object.assign({className:"reforml-form-group"},t))},ListInputDecoration:le,ObjectInputDecoration:oe,ListInputCreateBox:function(e){return r.a.createElement("div",Object.assign({className:"list-input-create-box"},e))},Flex:ce,Box:ie,Button:ue,FieldDecoration:ae},fe=Object(n.createContext)(se);fe.displayName="BaseComponentsContext";var pe=function(){return Object(n.useContext)(fe)},be=function(e){var t=e.helperText,a=e.onChange,n=e.value,l=e.label,o=(e.defaultVal,Object(m.a)(e,["helperText","onChange","value","label","defaultVal"])),c=pe().BaseInput;return r.a.createElement(ae,{label:l,helperText:t},r.a.createElement(c,Object.assign({},o,{onChange:a,value:n})))};be.propTypes=Object(y.a)(Object(y.a)({},ee),{},{value:G.string});var ve=function(e){var t=e.onChange,a=e.value,n=e.defaultVal,l=Object(m.a)(e,["onChange","value","defaultVal"]);return r.a.createElement(be,Object.assign({onChange:function(e){"string"===typeof e?null===t||void 0===t||t(Number.parseFloat(e)):"value"in e.target&&(null===t||void 0===t||t(Number.parseFloat(e.target.value)))},type:"number"},l,{value:null===a||void 0===a?void 0:a.toString(),defaultVal:null===n||void 0===n?void 0:n.toString()}))};ve.propTypes=Object(y.a)(Object(y.a)({},ee),{},{value:G.number});var de=function e(t,a){if("string"===typeof a)return t[a];if(0===a.length)return t;var n=Object(d.a)(a),r=n[0],l=n.slice(1);return e(t[r],l)},me=function(e,t){return Object(n.useMemo)((function(){return void 0!==e?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.valueKey,n=t.labelKey;return Array.isArray(e)?e.map((function(e){var t,r="string"===typeof e?e:JSON.stringify(e);if("object"===typeof e){if(t=void 0!==a?de(e,a):"value"in e?e.value:e,void 0!==n){var l=de(e,n);r="string"===typeof l?l:JSON.stringify(l)}else if("label"in e){var o=e.label;r="string"===typeof o?o:JSON.stringify(o)}else"string"!==typeof t&&"number"!==typeof t||(r=t.toString());return Object(y.a)(Object(y.a)({},e),{},{value:t,label:r})}return{value:t=e,label:r}})):Object.entries(e).map((function(e){var t=Object(c.a)(e,2),a=t[0];return{value:t[1],label:a}}))}(e,t):[]}),[e])},ye=Object(y.a)({},ee),he=function(e){var t=e.helperText,a=e.label,n=e.options,l=e.value,o=e.onChange,c=e.valueKey,i=e.labelKey,u=(e.defaultVal,Object(m.a)(e,["helperText","label","options","value","onChange","valueKey","labelKey","defaultVal"])),s=me(n,{labelKey:i,valueKey:c}),f=pe().BaseSelect;return r.a.createElement(ae,{helperText:t,label:a},r.a.createElement(f,Object.assign({options:s,value:l,onChange:o},u)))};he.propTypes=ye;var ge=function(e){var t=e.helperText,a=e.onChange,n=e.value,l=e.label,o=(e.defaultVal,e.trueValue),i=e.falseValue,u=Object(m.a)(e,["helperText","onChange","value","label","defaultVal","trueValue","falseValue"]),s=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.trueValue,r=a.falseValue,l="boolean"===typeof e?e:void 0!==n&&e===n,o=function(){!l?void 0!==n?null===t||void 0===t||t(n):null===t||void 0===t||t(!0):null===t||void 0===t||t(r)};return[l,o]}(n,a,{trueValue:o,falseValue:i}),f=Object(c.a)(s,2),p=f[0],b=f[1],v=pe(),d=v.LabelText,y=v.HelperText,h=v.BaseCheckbox,g=v.Flex,j=v.Box;return r.a.createElement(j,null,r.a.createElement(d,null,r.a.createElement(g,null,r.a.createElement(j,null,r.a.createElement(h,Object.assign({onChange:b,checked:p},u))),r.a.createElement(j,null,r.a.createElement(j,null,l),r.a.createElement(j,null,void 0!==t?r.a.createElement(y,null,t):null)))))};ge.propTypes=Object(y.a)(Object(y.a)({},ee),{},{value:G.any});var je=function(e){return void 0===e?new Set([]):"object"===typeof(t=e)&&null!==t&&"add"in t&&"clear"in t&&"delete"in t&&"entries"in t&&"forEach"in t&&"has"in t&&"keys"in t?e:Array.isArray(e)?new Set(e):new Set(Object.entries(e).filter((function(e){var t=Object(c.a)(e,2);t[0];return t[1]})).map((function(e){return Object(c.a)(e,1)[0]})));var t},Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"array";if("set"===t)return e;if("array"===t)return Array.from(e);var a={};return e.forEach((function(e){if("string"!==typeof e)throw new Error("value of options of multiselect view must be of type string");a[e]=!0})),a},xe=function(e){var t=e.helperText,a=e.onChange,l=e.value,o=e.label,i=e.options,u=e.valueKey,s=e.labelKey,f=e.output,p=Ie().checkbox,b=me(i,{labelKey:s,valueKey:u}),v=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"array";return Object(n.useMemo)((function(){var n=je(t);return[n,function(t){return function(){n.has(t)?n.delete(t):n.add(t),null===e||void 0===e||e(Oe(n,a))}}]}),[e,t,a])}(a,l,f),d=Object(c.a)(v,2),y=d[0],h=d[1],g=pe().Box;return r.a.createElement(g,null,r.a.createElement(ae,{label:o,helperText:t}),b.map((function(e){var t=e.value,a=e.label,n=Object(m.a)(e,["value","label"]);return r.a.createElement(p,Object.assign({key:a},n,{label:a,value:y.has(t),onChange:h(t)}))})))};xe.propTypes=Object(y.a)(Object(y.a)({},ee),{},{value:G.any});var Ee=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e,n,r){var l;return Object(s.a)(this,a),(l=t.call(this,a.getMessage(e,n,r))).name="MissingAttributeError",l}return Object(f.a)(a,null,[{key:"getMessage",value:function(e,t,a){var n="";return n+=void 0!==t?"Field '".concat(t,"'"):"A field",n+=" is missing the required attribute",n+="string"===typeof e?" '".concat(e,"'"):"s '".concat(e.join("', '"),"'"),void 0!==a&&(n+=" as a '".concat(a,"' field")),n+="."}}]),a}(Object(v.a)(Error)),Te=function(e){return function(t){e("object"===typeof t&&"target"in t?t.target.value:t)}},Ce=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e,n){var r;return Object(s.a)(this,a),(r=t.call(this,a.getMessage(e,n))).name="UndefinedFieldTypeError",r}return Object(f.a)(a,null,[{key:"getMessage",value:function(e,t){return(void 0===t?"Some field":"Field '".concat(t,"'"))+" uses an undefined field type '".concat(e,"',\n     please make sure you had register a FieldComponent for this type in ReformlProvider, \n     or specify another field type for this field")}}]),a}(Object(v.a)(Error)),Ne=function(e,t,a){if("string"===typeof t){var n=e[t];if(void 0===n)throw new Ce(t,a);return n}if(void 0===t.type)throw new Ee("type",a);var r=e[t.type];if(void 0===r)throw new Ce(t.type,a);return r};var we=function(e){var t=e.of,a=e.inlineDelete,n=e.listName,l=e.value,o=e.type,c=e.name,i=(e.editable,e.deletable),u=void 0===i||i,s=e.isCreating,f=e.onChange,p=e.onDelete,b=Object(m.a)(e,["of","inlineDelete","listName","value","type","name","editable","deletable","isCreating","onChange","onDelete"]);if(void 0===o)throw new Ee("of.type",void 0===c?n:c);var v=Ie(),d=pe(),y=d.Box,h=d.Button,g=Ne(v,o,c);return r.a.createElement(y,{className:s?"list-input-create-box":"list-input-item-box"},r.a.createElement(y,{className:!0===a?"flex":""},r.a.createElement(y,{className:"flex1"},r.a.createElement(g,Object.assign({},b,"string"===typeof t?{}:t,{value:l,onChange:void 0!==f?Te(f):void 0}))),r.a.createElement(y,null,!s&&u?r.a.createElement(h,{className:"btn-danger",onClick:p},"Delete"):null)))};we.propTypes=Object(y.a)({},ee);var Se=function(e){var t=pe().ListInputDecoration;return r.a.createElement(t,Object.assign({},e))};function ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.InputComponent,a=void 0===t?we:t,n=e.DecorationComponent,l=void 0===n?Se:n,o=e.defaultProps,c=function(e){var t=e.onChange,n=e.deletable,o=void 0===n||n,c=e.creatable,i=void 0===c||c,s=e.editable,f=void 0===s||s,p=e.helperText,b=e.type,v=e.label,d=e.of,m=e.value,y=void 0===m?[]:m,h=e.name,g=e.defaultNewVal,j=e.createLabel,O=e.placeholder,x=e.inlineDelete;if(void 0===g)throw new Ee("defaultNewVal",h,b);var E=function(e){return function(a){void 0!==y&&f&&(y[e]=a,null===t||void 0===t||t(Object(u.a)(y)))}},T=function(e){return function(){void 0!==y&&o&&(null===t||void 0===t||t(y.filter((function(t,a){return a!==e}))))}},C=function(e){i&&(void 0===y?null===t||void 0===t||t([e]):(y.push(e),null===t||void 0===t||t(y)))};return r.a.createElement(l,{label:v,helperText:p},[].concat(Object(u.a)(y),[g]).map((function(e,t){return t!==y.length?r.a.createElement(a,Object.assign({key:t,name:h,type:"string"===typeof d?d:void 0},"string"!==typeof d?d:{},{of:d,value:e,onChange:Te(E(t)),disabled:!f,deletable:o,editable:f,onDelete:T(t),isCreating:!1,inlineDelete:x})):i?r.a.createElement(a,Object.assign({key:t,name:h,type:"string"===typeof d?d:void 0},"string"!==typeof d?d:{},{of:d,label:j,placeholder:O,value:e,onChange:Te(C),isCreating:!0,inlineDelete:x})):null})))};return c.propTypes=Object(y.a)({},ee),c.defaultProps=o,c}var Ve=ke();Ve.propTypes=Object(y.a)({},ee);var Fe=function(e){var t=e.value,a=e.type,n=e.name,l=(e.editable,e.deletable),o=void 0===l||l,c=e.isCreating,i=e.onChange,u=e.onDelete,s=Object(m.a)(e,["value","type","name","editable","deletable","isCreating","onChange","onDelete"]);if(void 0===a)throw new Ee("of.type",n);var f=pe(),p=f.Flex,b=f.Box,v=f.Button;return r.a.createElement(p,{className:c?"list-input-create-box":"list-input-item-box"},r.a.createElement(b,{className:"flex1"},r.a.createElement(be,Object.assign({},s,{value:t,onChange:void 0!==i?Te(i):void 0}))),r.a.createElement(b,null,!c&&o?r.a.createElement(v,{className:"btn-danger",onClick:u},"Delete"):null))};Fe.propTypes=Object(y.a)({},ee);var _e=ke({InputComponent:Fe,defaultProps:{defaultNewVal:"",of:"string"}});_e.propTypes=Object(y.a)({},ee);var $e=Object(y.a)(Object(y.a)({},Y),{},{fields:G.any}),Pe=function(e){var t=e.helperText,a=e.onChange,n=e.value,l=e.label,o=e.fields,c=e.defaultVal,i=e.name,u=e.type;if(void 0===a)throw new Error("onChange is required");if(void 0===o)throw new Ee("fields",i,u);var s=pe(),f=s.ObjectInputDecoration,p=s.Box;return r.a.createElement(f,{label:l,helperText:t},r.a.createElement(p,{className:"object-item-box"},r.a.createElement(Ke,{onChange:Te(a),fields:o,value:void 0===n?void 0===c?{}:c:n})))};Pe.propTypes=Object(y.a)({},$e);var De={text:be,number:ve,select:he,checkbox:ge,checkbox_group:xe,list:Ve,text_list:_e,object:Pe},Be=Object(n.createContext)(De);Be.displayName="FieldComponentsContext";var Ie=function(){return Object(n.useContext)(Be)},Me={onChange:G.func,fields:G.object,value:G.object};function Ke(e){var t=e.onChange,a=e.fields,l=e.value,o=Ie(),u=Object(n.useRef)(!1),s=!1;u.current||(s=function(e,t){var a=!1;return Object.entries(Object(y.a)({},e)).forEach((function(e){var n=Object(c.a)(e,2),r=n[0],l=n[1];void 0===t[r]&&void 0!==l.defaultVal&&(a=!0,Array.isArray(l.defaultVal)?t[r]=Object.assign([],l.defaultVal):"object"===typeof l.defaultVal?t[r]=Object.assign({},l.defaultVal):t[r]=l.defaultVal)})),a}(a,l),u.current=!0);var f=Object(n.useState)(a),p=Object(c.a)(f,2),b=p[0],v=p[1],d=function(e){return v(e(b))},m=function(e){t(e,{reduceFields:d})};Object(n.useEffect)((function(){s&&m(Object(y.a)({},l))}),[s]);var h=function(e,t){m(Object(y.a)(Object(y.a)({},l),{},Object(i.a)({},e,t)))},g=pe().FieldWrapper;return r.a.createElement(r.a.Fragment,null,Object.entries(b).map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1],i=Ne(o,n,a),u=Te((function(e){return h(a,e)}));return r.a.createElement(g,{key:a},r.a.createElement(i,Object.assign({},n,{value:l[a],name:a,onChange:u})))})))}Ke.propTypes=Me;var Ae=a(32),Le=a.n(Ae),Re=a(23),qe=a.n(Re),Je=function(){var e=Object(n.useState)({}),t=Object(c.a)(e,2),a=t[0],l=t[1];return r.a.createElement("div",{style:{display:"flex",width:"100%",margin:"auto"}},r.a.createElement("div",{style:{flex:1}},r.a.createElement("code",null,r.a.createElement("pre",null,Le.a.dump(qe.a)))),r.a.createElement("div",{style:{flex:1}},r.a.createElement(Ke,{onChange:function(e,t){(0,t.reduceFields)((function(t){return"copy"in e&&(t.copy.label=e.copy),t})),l(e)},fields:qe.a,value:a})),r.a.createElement("div",{style:{flex:1}},r.a.createElement("code",null,r.a.createElement("pre",null,JSON.stringify(a,null,2)))))},We=function(){return r.a.createElement(Je,null)};o.a.render(r.a.createElement(We,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.b1fe9c37.chunk.js.map